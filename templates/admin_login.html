<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Login · Title Requestor</title>
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='icons/title-requestor.png') }}">
  <style>
    body { font-family: sans-serif; background:#121417; color:#e7e9ea; margin: 2rem; }
    .box { max-width: 420px; margin: 8vh auto; background:#1b1f24; border:1px solid #2a2f36; border-radius:10px; padding:16px; }
    label { display:block; margin-bottom:6px; font-size:14px; }
    input, button { width: 100%; padding:10px; border-radius:6px; border:1px solid #2a2f36; background:#0f1114; color:#e7e9ea; }
    input[type=password] { letter-spacing:0.1em; }
    button { margin-top:10px; background:#2f6feb; border:none; cursor:pointer; font-weight:600; }
    .muted { opacity: .8; font-size: 12px; margin-top: 10px; }
    .flash { background:#3f1e1e; border:1px solid #ef4444; color:#fca5a5; padding:6px 10px; border-radius:6px; margin-bottom:8px; font-size:14px; }
    a { color:#8ab4f8; }
    .toggle { position:absolute; right:14px; top:38px; cursor:pointer; font-size:12px; opacity:.7; }
    .field-wrap { position:relative; margin-bottom:12px; }
  </style>
</head>
<body>
  <div class="box">
    <h2>Admin Login</h2>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash">
          <ul>
            {% for m in messages %}
              <li>{{ m }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    {% endwith %}

    <form method="post" action="{{ url_for('admin_login_submit') }}">
      <div class="field-wrap">
        <label for="pin">Admin PIN</label>
        <input id="pin" type="password" name="pin" placeholder="Enter Admin PIN" required autocomplete="off">
        <span class="toggle" onclick="togglePin()">Show</span>
      </div>
      <button type="submit">Sign In</button>
    </form>

    <p class="muted" style="margin-top: 12px;">
      <a href="{{ url_for('dashboard') }}">← Back to Dashboard</a>
    </p>
  </div>

  <script>
    function togglePin() {
      const field = document.getElementById('pin');
      const toggle = document.querySelector('.toggle');
      if (field.type === 'password') {
        field.type = 'text';
        toggle.textContent = 'Hide';
      } else {
        field.type = 'password';
        toggle.textContent = 'Show';
      }
    }
  </script>
</body>
</html>